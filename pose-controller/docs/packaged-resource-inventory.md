# Standalone Resource Inventory (EC2 Bundle)

Last updated: 2026-02-19

## Staged Inputs

Generated by `npm run build:engine:stage`:

- Engine binary:
  - `pose-controller/engine-bin/win32/ec2_headless.exe` (platform-specific folder)
- Samples:
  - `pose-controller/engine-resources/samples/440sine48k.wav`
- Runtime libraries staging dir:
  - `pose-controller/engine-resources/libs/`
- Build/stage manifest:
  - `pose-controller/engine-resources/stage-manifest.json`

## Package Mapping

`electron-builder` extra resources mapping:

1. `engine-bin` -> `resources/engine-bin`
2. `engine-resources/samples` -> `resources/ec2/samples`
3. `engine-resources/libs` -> `resources/ec2/libs`
4. `release-compliance` -> `resources/compliance`

## Runtime Resolution (Electron Main)

Engine startup path resolution now checks:

1. Engine binary candidates in `engine-bin` and `resources/engine-bin`
2. Samples candidates in:
   - `EmissionControl2/externalResources/samples` (dev)
   - `engine-resources/samples` (staged dev)
   - `resources/ec2/samples` (packaged)
3. Runtime libs candidates in:
   - `EmissionControl2/externalResources/libsndfile` (dev)
   - `engine-resources/libs` (staged dev)
   - `resources/ec2/libs` (packaged)

Resolved libs path is injected into process env before spawning engine:

- Windows: prepends to `PATH`
- macOS: prepends to `DYLD_LIBRARY_PATH`
- Linux: prepends to `LD_LIBRARY_PATH`

